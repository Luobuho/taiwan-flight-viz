# 台灣國際航線3D視覺化

這個專案是一個使用 React 和 deck.gl 構建的台灣國際航線3D視覺化應用。應用提供了兩種視圖模式：地球視圖和地圖視圖，可視化台灣與世界各地之間的航線數據。

## 功能特點

- **地球視圖和地圖視圖**：提供可旋轉的3D地球視圖和扁平地圖視圖
- **時間控制**：通過年份、季度和月份選擇查看不同時期的航線數據
- **機場過濾**：可以選擇特定機場來查看其進出航線
- **自動播放**：時間序列自動播放功能
- **資料聚合**：在縮放級別低時自動聚合相近的航線，避免視覺過載
- **指數顏色比例**：使用指數比例顯示航線顏色，更好地區分不同流量級別
- **統計信息**：顯示當前所選時間點的航班統計數據

## 技術堆棧

- React
- deck.gl
- Material-UI
- Mapbox GL
- D3.js (用於比例尺)
- Docker

## 使用方法

### 使用 Docker 啟動（推薦）

如果你已經安裝了 Docker 和 Docker Compose，可以使用以下命令啟動應用：

```bash
# 構建並啟動 Docker 容器
docker-compose up -d

# 查看容器日誌
docker-compose logs -f

# 停止容器
docker-compose down
```

應用將運行在 http://localhost:8080

### 本地開發

如果你想在本地開發環境中運行此應用：

```bash
# 安裝依賴
npm install

# 啟動開發服務器
npm start
```

應用將運行在 http://localhost:3000

## 數據格式

應用使用 GeoPackage 文件來存儲航線數據。數據文件應包含以下欄位：

- `年月`：以 YYYYMM 格式表示的時間
- `出發機場`：出發機場名稱
- `出發經度`：出發機場經度
- `出發緯度`：出發機場緯度
- `到達機場`：到達機場名稱
- `到達經度`：到達機場經度
- `到達緯度`：到達機場緯度
- `載客人次`：該航線的乘客數量
- `航班數`：該航線的航班數量
- `平均載客率`：該航線的平均載客率百分比
- `航空公司列表`：運營該航線的航空公司

## 使用說明

1. **切換視圖模式**：點擊右上角的「地球視圖」或「地圖視圖」按鈕
2. **時間選擇**：使用左側控制面板選擇年份、季度和具體月份
3. **自動播放**：點擊「播放」按鈕以自動瀏覽時間序列
4. **選擇機場**：使用右上角的下拉菜單選擇特定機場來過濾航線
5. **旋轉地球**：在地球視圖模式下，點擊地球可以停止或啟動自動旋轉
6. **縮放和平移**：使用滑鼠滾輪和拖拽來調整視圖

## 注意事項

- 地球視圖提供了沉浸式的全球航線體驗，適合觀賞整體流量分布
- 地圖視圖更適合詳細查看具體航線和位置
- 選擇特定機場時，橙色線表示從該機場出發的航線，藍色線表示到達該機場的航線
- 縮小視圖時，相近的航線會被聚合以提高性能和清晰度

## 授權

MIT License